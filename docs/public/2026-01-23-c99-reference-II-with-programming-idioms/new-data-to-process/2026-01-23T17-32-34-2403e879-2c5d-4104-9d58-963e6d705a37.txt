Complex number
URL: [https://programming-idioms.org/idiom/77/complex-number](https://programming-idioms.org/idiom/77/complex-number)
Description: Declare and manipulate a complex number using the C99 complex number support.

```c
#include <complex.h>

double complex compute_complex(void) {
    double complex z = -2.0 + 3.0 * I;
    return z * I;
}
```

"do while" loop
URL: [https://programming-idioms.org/idiom/78/do-while-loop](https://programming-idioms.org/idiom/78/do-while-loop)
Description: Execute a block of code at least once and repeat while a condition remains true.

```c
void repeat_action(int* value) {
    do {
        (*value)++;
    } while (*value < 10);
}
```

Convert integer to floating point number
URL: [https://programming-idioms.org/idiom/79/convert-integer-to-floating-point-number](https://programming-idioms.org/idiom/79/convert-integer-to-floating-point-number)
Description: Convert an integer value to a floating point value explicitly.

```c
double to_double(int value) {
    return (double)value;
}
```

Truncate floating point number to integer
URL: [https://programming-idioms.org/idiom/80/truncate-floating-point-number-to-integer](https://programming-idioms.org/idiom/80/truncate-floating-point-number-to-integer)
Description: Convert a floating point value to an integer by truncating toward zero.

```c
int truncate_to_int(double value) {
    return (int)value;
}
```

Round floating point number to integer
URL: [https://programming-idioms.org/idiom/81/round-floating-point-number-to-integer](https://programming-idioms.org/idiom/81/round-floating-point-number-to-integer)
Description: Round a floating point value to the nearest integer, with ties rounded upward.

```c
#include <math.h>

int round_to_int(double value) {
    return (int)floor(value + 0.5);
}
```

Count substring occurrences
URL: [https://programming-idioms.org/idiom/82/count-substring-occurrences](https://programming-idioms.org/idiom/82/count-substring-occurrences)
Description: Count the number of non-overlapping occurrences of a substring within a string.

```c
#include <string.h>

size_t count_substrings(const char* s, const char* sub) {
    size_t count = 0;
    size_t len = strlen(sub);

    while ((s = strstr(s, sub)) != NULL) {
        ++count;
        s += len;
    }
    return count;
}
```

Count bits set in integer binary representation
URL: [https://programming-idioms.org/idiom/84/count-bits-set-in-integer-binary-representation](https://programming-idioms.org/idiom/84/count-bits-set-in-integer-binary-representation)
Description: Count the number of bits set to one in an unsigned integer.

```c
#include <stdint.h>

unsigned int popcount(uint32_t value) {
    unsigned int count = 0;
    while (value) {
        value &= value - 1;
        ++count;
    }
    return count;
}
```

Check if integer addition will overflow
URL: [https://programming-idioms.org/idiom/85/check-if-integer-addition-will-overflow](https://programming-idioms.org/idiom/85/check-if-integer-addition-will-overflow)
Description: Detect whether adding two signed integers would overflow.

```c
#include <stdbool.h>
#include <limits.h>

bool addition_overflows(int a, int b) {
    if (a > 0 && b > INT_MAX - a) {
        return true;
    }
    if (a < 0 && b < INT_MIN - a) {
        return true;
    }
    return false;
}
```

Stop program
URL: [https://programming-idioms.org/idiom/87/stop-program](https://programming-idioms.org/idiom/87/stop-program)
Description: Terminate program execution immediately and report successful completion.

```c
#include <stdlib.h>

void stop_program(void) {
    exit(EXIT_SUCCESS);
}
```

Allocate 1M bytes
URL: [https://programming-idioms.org/idiom/88/allocate-1m-bytes](https://programming-idioms.org/idiom/88/allocate-1m-bytes)
Description: Allocate a buffer of one million bytes from the heap.

```c
#include <stdlib.h>

void* allocate_one_megabyte(void) {
    return malloc(1000000);
}
```

Handle invalid argument
URL: [https://programming-idioms.org/idiom/89/handle-invalid-argument](https://programming-idioms.org/idiom/89/handle-invalid-argument)
Description: Validate a function argument and report failure using an explicit status code.

```c
#include <stdbool.h>

bool square_checked(int value, int* result) {
    if (value > 46340 || value < -46340) {
        return false;
    }
    *result = value * value;
    return true;
}
```

Pass a runnable procedure as parameter
URL: [https://programming-idioms.org/idiom/93/pass-a-runnable-procedure-as-parameter](https://programming-idioms.org/idiom/93/pass-a-runnable-procedure-as-parameter)
Description: Accept a function pointer as an argument and invoke it.

```c
void run(void (*fn)(void)) {
    fn();
}
```

Get file size
URL: [https://programming-idioms.org/idiom/95/get-file-size](https://programming-idioms.org/idiom/95/get-file-size)
Description: Determine the size of a file in bytes using standard C I/O.

```c
#include <stdio.h>

long file_size(const char* path) {
    FILE* file = fopen(path, "rb");
    if (!file) {
        return -1;
    }

    fseek(file, 0, SEEK_END);
    long size = ftell(file);
    fclose(file);
    return size;
}
```

Check string prefix
URL: [https://programming-idioms.org/idiom/96/check-string-prefix](https://programming-idioms.org/idiom/96/check-string-prefix)
Description: Check whether a string begins with a specified prefix.

```c
#include <stdbool.h>
#include <string.h>

bool starts_with(const char* s, const char* prefix) {
    size_t len = strlen(prefix);
    return strncmp(s, prefix, len) == 0;
}
```

Sort by a comparator
URL: [https://programming-idioms.org/idiom/100/sort-by-a-comparator](https://programming-idioms.org/idiom/100/sort-by-a-comparator)
Description: Sort an array of integers using qsort with a custom comparator.

```c
#include <stdlib.h>

int compare_ints(const void* a, const void* b) {
    int x = *(const int*)a;
    int y = *(const int*)b;

    if (x < y) {
        return -1;
    }
    if (x > y) {
        return 1;
    }
    return 0;
}

void sort_ints(int* values, size_t count) {
    qsort(values, count, sizeof(int), compare_ints);
}
```

Current executable name
URL: [https://programming-idioms.org/idiom/105/current-executable-name](https://programming-idioms.org/idiom/105/current-executable-name)
Description: Extract the executable name from the program invocation path.

```c
#include <string.h>

const char* executable_name(const char* argv0) {
    const char* slash = strrchr(argv0, '/');
    return slash ? slash + 1 : argv0;
}
```

Get program working directory
URL: [https://programming-idioms.org/idiom/106/get-program-working-directory](https://programming-idioms.org/idiom/106/get-program-working-directory)
Description: Retrieve the current working directory path.

```c
#include <unistd.h>

char* working_directory(void) {
    return getcwd(NULL, 0);
}
```

Get folder containing current program
URL: [https://programming-idioms.org/idiom/107/get-folder-containing-current-program](https://programming-idioms.org/idiom/107/get-folder-containing-current-program)
Description: Determine the directory containing the currently executing program on Unix-like systems.

```c
#include <unistd.h>
#include <limits.h>
#include <libgen.h>

char* executable_directory(void) {
    char path[PATH_MAX];
    ssize_t len = readlink("/proc/self/exe", path, sizeof(path) - 1);
    if (len < 0) {
        return NULL;
    }
    path[len] = '\0';
    return dirname(path);
}
```

Number of bytes of a type
URL: [https://programming-idioms.org/idiom/109/number-of-bytes-of-a-type](https://programming-idioms.org/idiom/109/number-of-bytes-of-a-type)
Description: Determine the number of bytes occupied by a variable.

```c
#include <stddef.h>

size_t bytes_of(int value) {
    return sizeof(value);
}
```

Check if string is blank
URL: [https://programming-idioms.org/idiom/110/check-if-string-is-blank](https://programming-idioms.org/idiom/110/check-if-string-is-blank)
Description: Check whether a string is empty or contains only whitespace characters.

```c
#include <stdbool.h>
#include <ctype.h>

bool is_blank(const char* s) {
    while (*s) {
        if (!isspace((unsigned char)*s)) {
            return false;
        }
        ++s;
    }
    return true;
}
```

Launch other program
URL: [https://programming-idioms.org/idiom/111/launch-other-program](https://programming-idioms.org/idiom/111/launch-other-program)
Description: Execute another program using the system shell.

```c
#include <stdlib.h>

int launch_program(const char* command) {
    return system(command);
}
```

Get list size
URL: [https://programming-idioms.org/idiom/117/get-list-size](https://programming-idioms.org/idiom/117/get-list-size)
Description: Determine the number of elements in a statically allocated array.

```c
#define ARRAY_SIZE(a) (sizeof(a) / sizeof((a)[0]))
```

Read integer from stdin
URL: [https://programming-idioms.org/idiom/120/read-integer-from-stdin](https://programming-idioms.org/idiom/120/read-integer-from-stdin)
Description: Read an integer value from standard input.

```c
#include <stdio.h>

int read_int(void) {
    int value = 0;
    scanf("%d", &value);
    return value;
}
```

