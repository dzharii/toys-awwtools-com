<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bloom Filter Playground</title>
  <style>
    :root {
      --bg: #060912;
      --panel: #0d1628;
      --panel-2: #0f2038;
      --text: #e6edf7;
      --muted: #9fb1cc;
      --accent: #7cf5c2;
      --accent-2: #8dc8ff;
      --danger: #ff7b9c;
      --grid: rgba(255, 255, 255, 0.06);
      --shadow: 0 10px 40px rgba(0, 0, 0, 0.35);
      font-family: "Sora", "Manrope", "Space Grotesk", "Helvetica Neue", sans-serif;
      color-scheme: dark;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      background: radial-gradient(120% 70% at 20% 20%, rgba(124, 245, 194, 0.08), transparent),
                  radial-gradient(100% 60% at 80% 10%, rgba(141, 200, 255, 0.12), transparent),
                  radial-gradient(90% 70% at 50% 80%, rgba(255, 123, 156, 0.1), transparent),
                  var(--bg);
      color: var(--text);
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
      letter-spacing: 0.01em;
    }

    .noise {
      position: fixed;
      inset: 0;
      pointer-events: none;
      background-image: radial-gradient(var(--grid) 1px, transparent 0);
      background-size: 22px 22px;
      opacity: 0.25;
      z-index: 0;
    }

    .glow {
      position: fixed;
      filter: blur(80px);
      z-index: 0;
      opacity: 0.8;
    }

    .glow.one { width: 320px; height: 320px; background: #7cf5c2; top: -60px; left: -40px; }
    .glow.two { width: 380px; height: 380px; background: #7fa2ff; bottom: -80px; right: -60px; }
    .glow.three { width: 260px; height: 260px; background: #ff7b9c; top: 220px; right: 10%; }

    header {
      position: sticky;
      top: 0;
      z-index: 5;
      backdrop-filter: blur(18px);
      background: rgba(6, 9, 18, 0.7);
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .shell {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px 24px 0 24px;
      position: relative;
      z-index: 2;
    }

    nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 0 12px 0;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 700;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .brand-mark {
      width: 36px;
      height: 36px;
      border-radius: 12px;
      background: linear-gradient(135deg, rgba(124, 245, 194, 0.75), rgba(141, 200, 255, 0.8));
      display: grid;
      place-items: center;
      box-shadow: var(--shadow);
    }

    .brand-mark svg { width: 20px; height: 20px; }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    a.button, button.button {
      border: none;
      border-radius: 12px;
      padding: 12px 18px;
      font-weight: 600;
      cursor: pointer;
      text-decoration: none;
      color: var(--text);
      background: linear-gradient(135deg, rgba(124, 245, 194, 0.18), rgba(141, 200, 255, 0.12));
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      transition: transform 0.2s ease, box-shadow 0.2s ease, border 0.2s ease;
    }

    a.button:hover, button.button:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 36px rgba(124, 245, 194, 0.25);
      border-color: rgba(124, 245, 194, 0.45);
    }

    a.button.secondary {
      background: rgba(255, 255, 255, 0.04);
    }

    main { padding-bottom: 80px; }

    .hero {
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 32px;
      padding: 40px 0 32px 0;
      align-items: center;
    }

    .hero h1 {
      font-size: clamp(36px, 5vw, 52px);
      line-height: 1.08;
      margin: 0 0 16px 0;
      text-shadow: 0 8px 30px rgba(0,0,0,0.35);
    }

    .eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: rgba(124, 245, 194, 0.1);
      border: 1px solid rgba(124, 245, 194, 0.25);
      border-radius: 999px;
      color: var(--accent);
      font-weight: 700;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      font-size: 12px;
    }

    .hero p {
      margin: 0 0 18px 0;
      color: var(--muted);
      font-size: 17px;
      line-height: 1.55;
      max-width: 720px;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin: 18px 0 8px 0;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    .pill {
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.08);
      color: var(--muted);
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .pill .dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 0 6px rgba(124, 245, 194, 0.16);
    }

    .hero-card {
      background: linear-gradient(180deg, rgba(13, 22, 40, 0.9), rgba(13, 22, 40, 0.75));
      border: 1px solid rgba(255, 255, 255, 0.06);
      border-radius: 18px;
      padding: 18px 18px 14px 18px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(6px);
    }

    .hero-card .badge {
      position: absolute;
      top: 16px;
      right: 16px;
      background: rgba(141, 200, 255, 0.14);
      color: var(--accent-2);
      border-radius: 10px;
      padding: 8px 10px;
      font-weight: 700;
      font-size: 12px;
      letter-spacing: 0.02em;
      border: 1px solid rgba(141, 200, 255, 0.35);
    }

    .bit-visual {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 14px;
      padding: 16px;
    }

    .bit-bar {
      display: grid;
      grid-template-columns: repeat(16, minmax(0, 1fr));
      gap: 6px;
      margin-top: 12px;
    }

    .bit {
      aspect-ratio: 1;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.08);
      position: relative;
      transition: transform 0.3s ease, background 0.3s ease, border-color 0.3s ease;
    }

    .bit.active {
      background: linear-gradient(135deg, rgba(124, 245, 194, 0.9), rgba(141, 200, 255, 0.8));
      border-color: rgba(124, 245, 194, 0.9);
      box-shadow: 0 8px 20px rgba(124, 245, 194, 0.35);
      transform: translateY(-2px);
    }

    .bit::after {
      content: attr(data-index);
      position: absolute;
      bottom: -18px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 10px;
      color: var(--muted);
    }

    .mini-legend {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: center;
      margin-top: 8px;
      color: var(--muted);
      font-size: 13px;
    }

    .stat-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 12px;
      margin-top: 14px;
    }

    .stat {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.06);
      border-radius: 12px;
      padding: 12px;
    }

    .stat .label { color: var(--muted); font-size: 13px; }
    .stat .value { font-size: 20px; font-weight: 700; margin-top: 6px; }
    .stat .value small { color: var(--muted); font-weight: 500; font-size: 12px; }

    section {
      margin-top: 42px;
    }

    .section-title {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 18px;
    }

    .section-title h2 {
      margin: 0;
      font-size: 26px;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 16px;
    }

    .card {
      background: linear-gradient(180deg, rgba(13, 22, 40, 0.92), rgba(13, 22, 40, 0.82));
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 14px;
      padding: 16px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .card h3 { margin: 0 0 8px 0; font-size: 18px; }
    .card p { margin: 0; color: var(--muted); line-height: 1.5; }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.05);
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      color: var(--muted);
      font-size: 13px;
    }

    .how-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 16px;
    }

    .step {
      padding: 14px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      background: rgba(255, 255, 255, 0.03);
    }

    .step strong { display: block; margin-bottom: 6px; }
    .step small { color: var(--muted); line-height: 1.5; }

    .inline-svg {
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 14px;
      padding: 12px;
      margin-top: 8px;
    }

    .cta {
      margin-top: 32px;
      background: linear-gradient(135deg, rgba(124, 245, 194, 0.12), rgba(141, 200, 255, 0.12));
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      box-shadow: var(--shadow);
      flex-wrap: wrap;
    }

    .cta h3 { margin: 0 0 6px 0; }
    .cta p { margin: 0; color: var(--muted); }

    .monos {
      font-family: "JetBrains Mono", "SFMono-Regular", "Menlo", monospace;
      background: rgba(255, 255, 255, 0.04);
      padding: 3px 6px;
      border-radius: 6px;
      font-size: 13px;
    }

    @media (max-width: 960px) {
      .hero { grid-template-columns: 1fr; }
      .hero-card { order: -1; }
      nav { gap: 10px; }
    }

    @media (max-width: 640px) {
      .shell { padding: 16px; }
      .hero-actions { width: 100%; }
      a.button { width: 100%; justify-content: center; }
      .mini-legend { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body>
  <div class="noise"></div>
  <div class="glow one"></div>
  <div class="glow two"></div>
  <div class="glow three"></div>

  <header>
    <div class="shell">
      <nav>
        <div class="brand">
          <div class="brand-mark" aria-hidden="true">
            <svg viewBox="0 0 48 48" fill="none">
              <rect x="6" y="6" width="36" height="36" rx="11" stroke="rgba(0,0,0,0.12)" stroke-width="2" />
              <path d="M14 30c8 2 10-14 20-12" stroke="#0b1221" stroke-width="8" stroke-linecap="round" opacity="0.22" />
              <path d="M14 31c8 2 10-14 20-12" stroke="#0b1221" stroke-width="5" stroke-linecap="round" opacity="0.35" />
              <path d="M14 30c8 2 10-14 20-12" stroke="url(#grad)" stroke-width="4" stroke-linecap="round" />
              <defs>
                <linearGradient id="grad" x1="12" y1="30" x2="34" y2="18" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#7cf5c2" />
                  <stop offset="1" stop-color="#8dc8ff" />
                </linearGradient>
              </defs>
            </svg>
          </div>
          Bloom Filter Studio
        </div>
        <div class="nav-actions">
          <a class="button secondary" href="#learn">Learn</a>
          <a class="button" target="_blank" rel="noopener noreferrer" href="bloom-editor.html">Open Editor ↗</a>
          <a class="button" target="_blank" rel="noopener noreferrer" href="bloom-tester.html">Open Tester ↗</a>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <div class="shell">
      <section class="hero">
        <div>
          <div class="eyebrow">Probabilistic data structures</div>
          <h1>Design, explain, and test Bloom filters without the guesswork.</h1>
          <p>Curious about how Bloom filters behave as you change bit arrays, hash counts, or load factors? Jump into the editor to build one, then hop to the tester to see false positives in action. This landing page keeps the concepts close at hand while you experiment.</p>
          <div class="hero-actions">
            <a class="button" target="_blank" rel="noopener noreferrer" href="bloom-editor.html">Launch Bloom Filter Editor ↗</a>
            <a class="button secondary" target="_blank" rel="noopener noreferrer" href="bloom-tester.html">Launch Tester &amp; Bench ↗</a>
          </div>
          <div class="pill-row">
            <span class="pill"><span class="dot"></span>No false negatives guarantee</span>
            <span class="pill"><span class="dot" style="background: var(--accent-2); box-shadow: 0 0 0 6px rgba(141, 200, 255, 0.18);"></span>Space-efficient membership checks</span>
            <span class="pill"><span class="dot" style="background: var(--danger); box-shadow: 0 0 0 6px rgba(255, 123, 156, 0.18);"></span>False positives quantified</span>
          </div>
        </div>

        <div class="hero-card" aria-label="Bloom filter visualization">
          <div class="badge">Live sketch</div>
          <div class="bit-visual">
            <div class="mini-legend">
              <span class="chip">Insert → hash across <strong id="hashCount">3</strong> functions</span>
              <span class="chip">Bit array size: <strong id="bitSize">16</strong></span>
            </div>
            <div class="bit-bar" aria-hidden="true" id="bitBar"></div>
            <div class="mini-legend">
              <span>Highlighted bits are set for the current item.</span>
              <span class="chip" id="fpRate">FP estimate: <strong>1.8%</strong></span>
            </div>
          </div>
          <div class="stat-grid">
            <div class="stat">
              <div class="label">Current action</div>
              <div class="value" id="currentAction">Insert "alpha"</div>
            </div>
            <div class="stat">
              <div class="label">Confidence</div>
              <div class="value">No <small>false negatives</small></div>
            </div>
            <div class="stat">
              <div class="label">Space savings</div>
              <div class="value">↘ ~92% <small>vs. hash set</small></div>
            </div>
          </div>
        </div>
      </section>

      <section id="learn">
        <div class="section-title">
          <h2>Why Bloom filters?</h2>
          <span class="chip">Great for: caches • pre-checks • stream processing</span>
        </div>
        <div class="cards">
          <div class="card">
            <h3>Fast pre-check</h3>
            <p>Quickly decide whether a lookup is almost certainly missing. If the filter says "no", you skip downstream database or network requests.</p>
          </div>
          <div class="card">
            <h3>Memory wins</h3>
            <p>Represent millions of items in a compact bit array. Tune the bit-size and number of hash functions to balance space against false positives.</p>
          </div>
          <div class="card">
            <h3>Predictable error</h3>
            <p>Bloom filters never give false negatives. False positives are bounded by math, so you can size the filter to meet your target error rate.</p>
          </div>
        </div>
      </section>

      <section>
        <div class="section-title">
          <h2>How it works</h2>
          <span class="chip">Play with it live in the editor</span>
        </div>
        <div class="how-grid">
          <div class="step">
            <strong>1) Hash the item several ways</strong>
            <small>Run an element through <span class="monos">k</span> hash functions. Each hash maps to a bit position.</small>
            <div class="inline-svg" aria-hidden="true">
              <svg viewBox="0 0 380 110" fill="none" width="100%">
                <rect x="12" y="16" width="356" height="78" rx="14" fill="url(#gradSvg1)" stroke="rgba(255,255,255,0.12)" />
                <defs>
                  <linearGradient id="gradSvg1" x1="12" y1="16" x2="368" y2="94" gradientUnits="userSpaceOnUse">
                    <stop stop-color="rgba(124,245,194,0.18)" />
                    <stop offset="1" stop-color="rgba(141,200,255,0.18)" />
                  </linearGradient>
                </defs>
                <text x="26" y="44" fill="rgba(230,237,247,0.9)" font-family="Manrope, sans-serif" font-size="13">item</text>
                <rect x="64" y="28" width="50" height="26" rx="8" fill="rgba(255,255,255,0.08)" stroke="rgba(255,255,255,0.1)"/>
                <text x="74" y="46" fill="#7cf5c2" font-family="JetBrains Mono, monospace" font-size="12">alpha</text>
                <path d="M120 40 Q140 40 152 22" stroke="#8dc8ff" stroke-width="3" fill="none" />
                <path d="M120 40 Q140 40 152 58" stroke="#7cf5c2" stroke-width="3" fill="none" />
                <rect x="152" y="12" width="70" height="26" rx="8" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.12)" />
                <rect x="152" y="48" width="70" height="26" rx="8" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.12)" />
                <text x="168" y="31" fill="#8dc8ff" font-family="JetBrains Mono, monospace" font-size="12">h1()</text>
                <text x="168" y="67" fill="#7cf5c2" font-family="JetBrains Mono, monospace" font-size="12">h2()</text>
                <path d="M222 25 C250 25 254 56 280 56" stroke="rgba(255,255,255,0.35)" stroke-width="2" stroke-dasharray="6 6" fill="none" />
                <path d="M222 63 C252 63 254 30 282 30" stroke="rgba(255,255,255,0.35)" stroke-width="2" stroke-dasharray="6 6" fill="none" />
                <rect x="276" y="18" width="80" height="70" rx="12" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" />
                <text x="286" y="42" fill="#e6edf7" font-size="12" font-family="JetBrains Mono, monospace">k hashes</text>
                <text x="286" y="66" fill="#9fb1cc" font-size="11" font-family="Manrope, sans-serif">positions: 3,7,14</text>
              </svg>
            </div>
          </div>
          <div class="step">
            <strong>2) Set the bits</strong>
            <small>For each hash output, flip the corresponding bit to <span class="monos">1</span>. Reinsertions keep the same bits set.</small>
            <div class="inline-svg" aria-hidden="true">
              <svg viewBox="0 0 380 90" width="100%">
                <rect x="10" y="18" width="360" height="56" rx="12" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.08)" />
                <g transform="translate(18,30)">
                  <rect width="18" height="18" rx="6" fill="#7cf5c2"/>
                  <rect x="24" width="18" height="18" rx="6" fill="rgba(255,255,255,0.04)"/>
                  <rect x="48" width="18" height="18" rx="6" fill="rgba(255,255,255,0.04)"/>
                  <rect x="72" width="18" height="18" rx="6" fill="#8dc8ff"/>
                  <rect x="96" width="18" height="18" rx="6" fill="rgba(255,255,255,0.04)"/>
                  <rect x="120" width="18" height="18" rx="6" fill="rgba(255,255,255,0.04)"/>
                  <rect x="144" width="18" height="18" rx="6" fill="#ff7b9c"/>
                  <rect x="168" width="18" height="18" rx="6" fill="rgba(255,255,255,0.04)"/>
                  <rect x="192" width="18" height="18" rx="6" fill="rgba(255,255,255,0.04)"/>
                  <rect x="216" width="18" height="18" rx="6" fill="rgba(255,255,255,0.04)"/>
                  <rect x="240" width="18" height="18" rx="6" fill="rgba(255,255,255,0.04)"/>
                </g>
                <text x="20" y="72" fill="#9fb1cc" font-size="12" font-family="Manrope, sans-serif">bits set at 0,3,6 for item "alpha"</text>
              </svg>
            </div>
          </div>
          <div class="step">
            <strong>3) Test membership</strong>
            <small>Hash the candidate item with the same <span class="monos">k</span> functions. If all bits are 1 ➝ "probably present". Any zero ➝ "definitely missing".</small>
            <div class="inline-svg" aria-hidden="true">
              <svg viewBox="0 0 380 110" width="100%">
                <rect x="14" y="16" width="352" height="78" rx="14" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.08)" />
                <rect x="26" y="32" width="82" height="24" rx="9" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.12)" />
                <text x="36" y="48" fill="#7cf5c2" font-family="JetBrains Mono, monospace" font-size="12">beta</text>
                <path d="M108 44 C130 44 150 22 170 22" stroke="#8dc8ff" stroke-width="3" fill="none" />
                <path d="M108 44 C130 44 152 44 170 44" stroke="#7cf5c2" stroke-width="3" fill="none" />
                <path d="M108 44 C130 44 152 66 170 66" stroke="#ff7b9c" stroke-width="3" fill="none" />
                <rect x="170" y="12" width="64" height="64" rx="12" fill="rgba(255,255,255,0.05)" stroke="rgba(255,255,255,0.1)" />
                <text x="181" y="38" fill="#e6edf7" font-family="JetBrains Mono, monospace" font-size="11">h1,h2,h3</text>
                <text x="176" y="58" fill="#9fb1cc" font-size="11" font-family="Manrope, sans-serif">bits: 0,3,8</text>
                <rect x="254" y="20" width="98" height="60" rx="12" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.12)" />
                <text x="266" y="44" fill="#e6edf7" font-size="13" font-family="Manrope, sans-serif">Result</text>
                <text x="266" y="64" fill="#8dc8ff" font-size="12" font-family="JetBrains Mono, monospace">probably present</text>
              </svg>
            </div>
          </div>
        </div>
      </section>

      <section>
        <div class="section-title">
          <h2>Where to start</h2>
          <span class="chip">Open tools in new tabs to stay on this guide</span>
        </div>
        <div class="cards">
          <div class="card">
            <h3>Bloom Filter Editor</h3>
            <p>Adjust bit array size, number of hash functions, and visualize how inserts set bits.</p>
            <div class="hero-actions" style="margin-top:12px;">
              <a class="button" target="_blank" rel="noopener noreferrer" href="bloom-editor.html">Open Editor ↗</a>
            </div>
          </div>
          <div class="card">
            <h3>Bloom Filter Tester</h3>
            <p>Benchmark false positives by loading word lists, simulating lookups, and seeing where errors spike.</p>
            <div class="hero-actions" style="margin-top:12px;">
              <a class="button secondary" target="_blank" rel="noopener noreferrer" href="bloom-tester.html">Open Tester ↗</a>
            </div>
          </div>
          <div class="card">
            <h3>Bring your own data</h3>
            <p>Both tools accept arbitrary text input. Try URLs, product IDs, or log lines to see how real-world entropy behaves.</p>
          </div>
        </div>
      </section>

      <section>
        <div class="section-title">
          <h2>Quick math</h2>
          <span class="chip">False positive rate and sizing</span>
        </div>
        <div class="cards">
          <div class="card">
            <h3>False positive rate</h3>
            <p><span class="monos">p ≈ (1 - e^{-k⋅n/m})^k</span><br/>Lower <span class="monos">p</span> by increasing bits (<span class="monos">m</span>) or lowering inserted items (<span class="monos">n</span>).</p>
          </div>
          <div class="card">
            <h3>Optimal hash count</h3>
            <p>Use <span class="monos">k ≈ (m/n) ln 2</span>. The editor lets you try different <span class="monos">k</span> values and watch how the bit density changes.</p>
          </div>
          <div class="card">
            <h3>Density sweet spot</h3>
            <p>Once ~50% of bits are 1, false positives rise quickly. The tester visualizes this transition so you know when to resize.</p>
          </div>
        </div>
      </section>

      <div class="cta">
        <div>
          <h3>Ready to explore?</h3>
          <p>Keep this guide open while you iterate. Open the editor to build, then the tester to validate.</p>
        </div>
        <div class="hero-actions" style="margin:0;">
          <a class="button" target="_blank" rel="noopener noreferrer" href="bloom-editor.html">Editor ↗</a>
          <a class="button secondary" target="_blank" rel="noopener noreferrer" href="bloom-tester.html">Tester ↗</a>
        </div>
      </div>
    </div>
  </main>

  <script>
    const bitCount = 16;
    const bits = Array.from({ length: bitCount }).map((_, i) => i);
    const bitBar = document.getElementById("bitBar");
    const currentAction = document.getElementById("currentAction");
    const hashCountEl = document.getElementById("hashCount");
    const bitSizeEl = document.getElementById("bitSize");
    const fpRateEl = document.getElementById("fpRate");

    function renderBits() {
      bitBar.innerHTML = "";
      bits.forEach((idx) => {
        const b = document.createElement("div");
        b.className = "bit";
        b.dataset.index = idx;
        bitBar.appendChild(b);
      });
    }

    const demoItems = ["alpha", "beta", "gamma", "delta", "kappa", "lambda"];

    function randomHashes(k, m) {
      const positions = new Set();
      while (positions.size < k) {
        positions.add(Math.floor(Math.random() * m));
      }
      return Array.from(positions);
    }

    function estimateFalsePositive(k, n, m) {
      // Approximate p = (1 - e^{-k n / m})^k
      const p = Math.pow(1 - Math.exp(-k * n / m), k);
      return (p * 100).toFixed(1) + "%";
    }

    function updateDemo() {
      const k = Math.floor(Math.random() * 3) + 3; // 3-5 hashes
      const m = bitCount;
      const n = Math.floor(Math.random() * 6) + 4; // pretend inserted items
      const bitsSet = randomHashes(k, m);
      document.querySelectorAll(".bit").forEach((bit, idx) => {
        bit.classList.toggle("active", bitsSet.includes(idx));
      });
      const item = demoItems[Math.floor(Math.random() * demoItems.length)];
      currentAction.textContent = `Insert "${item}"`;
      hashCountEl.textContent = k;
      bitSizeEl.textContent = m;
      fpRateEl.innerHTML = `FP estimate: <strong>${estimateFalsePositive(k, n, m)}</strong>`;
    }

    renderBits();
    updateDemo();
    setInterval(updateDemo, 2600);
  </script>
</body>
</html>
