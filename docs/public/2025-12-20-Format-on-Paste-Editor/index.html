<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Format-on-Paste Editor</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="page">
    <header class="control-header">
      <div class="brand">
        <div class="brand-title">Format-on-Paste Editor</div>
        <div class="brand-subtitle">Transform clipboard text as you paste.</div>
      </div>
      <div class="header-controls">
        <button id="formattedToggle" class="toggle toggle-on" type="button" aria-pressed="true">
          Formatted paste ON
        </button>
        <div class="control">
          <label for="insertionMode">Insertion mode</label>
          <select id="insertionMode"></select>
          <div id="insertionConfig" class="insertion-config"></div>
        </div>
        <div class="control">
          <label for="profileSelect">Profile</label>
          <select id="profileSelect"></select>
        </div>
      </div>
      <div class="header-hint">
        Raw paste bypass: Ctrl+Shift+V or hold Shift while pasting.
      </div>
    </header>

    <section class="pipeline-area">
      <div class="section-header">
        <h2>Pipeline</h2>
        <p>Build the transformation steps applied to your clipboard text.</p>
      </div>
      <div id="pipelineList" class="pipeline-list"></div>
      <div class="pipeline-add">
        <label for="addStepSelect">Add step</label>
        <select id="addStepSelect"></select>
        <button id="addStepButton" type="button">Add</button>
      </div>
    </section>

    <section class="editor-area">
      <div class="section-header">
        <h2>Editor</h2>
        <p>Paste repeatedly to build your output.</p>
      </div>
      <textarea id="editor" spellcheck="false" rows="14"></textarea>
    </section>

    <section class="preview-area" id="previewArea">
      <div class="preview-header">
        <h2>Last paste preview</h2>
        <button id="previewToggle" class="preview-toggle" type="button" aria-expanded="true">
          Collapse
        </button>
      </div>
      <div class="preview-content" id="previewContent">
        <div class="preview-block">
          <div class="preview-label">Raw clipboard</div>
          <pre id="previewRaw" class="preview-text"></pre>
        </div>
        <div class="preview-block">
          <div class="preview-label">Transformed output</div>
          <pre id="previewTransformed" class="preview-text"></pre>
        </div>
      </div>
      <div id="statusLine" class="status-line" role="status"></div>
    </section>
  </div>

  <script src="storage.js"></script>
  <script src="pipeline.js"></script>
  <script src="insertion.js"></script>
  <script src="ui.js"></script>
  <script src="editor.js"></script>
  <script src="app.js"></script>
</body>
</html>
