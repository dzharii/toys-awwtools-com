.stroke {
  stroke: var(--stroke);
  stroke-width: 8;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.line {
  fill: none;
  stroke-width: 7;
}

.skin {
  fill: var(--skin);
}

.skin-highlight {
  fill: rgba(255, 255, 255, 0.26);
}

.ear {
  opacity: 0.46;
}

.eye {
  fill: #ffffff;
}

.pupil {
  fill: #221e28;
}

#eyeWhite {
  transform-box: fill-box;
  transform-origin: center;
  transform: scaleY(1);
  transition: transform 90ms ease;
}

#pupil {
  transition: opacity 60ms ease;
}

.brow {
  fill: none;
  stroke-width: 6;
  opacity: 0.6;
}

.cavity-fill {
  fill: url(#cavityGrad);
  stroke: rgba(42, 34, 48, 0.22);
  stroke-width: 3;
}

.rim {
  fill: none;
  stroke-width: 10;
}

.rim-bone {
  fill: none;
  stroke: rgba(255, 255, 255, 0.86);
  stroke-width: 18;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.rim-highlight {
  fill: none;
  stroke: rgba(255, 255, 255, 0.55);
  stroke-width: 6;
  stroke-linecap: round;
}

.brain-layer {
  opacity: 0;
  transform-box: fill-box;
  transform-origin: center;
  transition:
    opacity 240ms ease,
    transform 300ms cubic-bezier(0.22, 1.18, 0.3, 1);
}

.brain-layer.is-active {
  opacity: 1;
}

.brain-layer.is-ripple {
  animation: brainRipple 320ms cubic-bezier(0.22, 1.18, 0.3, 1) both;
}

.brain-layer.is-appear {
  animation: brainAppear 460ms cubic-bezier(0.12, 1.28, 0.2, 1) both;
}

.brain-layer.is-drain {
  animation: brainDrain 260ms ease both;
}

@keyframes brainRipple {
  0% {
    transform: scale(0.92);
  }
  55% {
    transform: scale(1.03);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes brainAppear {
  0% {
    transform: scale(0.78);
  }
  62% {
    transform: scale(1.04);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes brainDrain {
  0% {
    transform: scale(1);
  }
  100% {
    transform: scale(0.86);
  }
}

.brain-text {
  font-family:
    ui-rounded,
    "SF Pro Rounded",
    "Segoe UI Rounded",
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    Arial,
    sans-serif;
  font-weight: 700;
  fill: #3a1f76;
  stroke: rgba(255, 255, 255, 0.65);
  stroke-width: 3px;
  paint-order: stroke fill;
}

.brain-empty {
  font-family:
    ui-rounded,
    "SF Pro Rounded",
    "Segoe UI Rounded",
    system-ui,
    -apple-system,
    "Segoe UI",
    Roboto,
    Arial,
    sans-serif;
  font-weight: 800;
  fill: rgba(34, 36, 54, 0.35);
  letter-spacing: 0.02em;
  transition: opacity 240ms ease;
}

.dust {
  opacity: 0;
  transition: opacity 240ms ease;
}

.dust.is-on {
  opacity: 1;
}

.dust circle {
  fill: rgba(108, 65, 255, 0.18);
}

@keyframes dustFloatA {
  0% {
    transform: translate(0, 0);
    opacity: 0;
  }
  25% {
    opacity: 0.55;
  }
  70% {
    opacity: 0.2;
  }
  100% {
    transform: translate(10px, -18px);
    opacity: 0;
  }
}

@keyframes dustFloatB {
  0% {
    transform: translate(0, 0);
    opacity: 0;
  }
  22% {
    opacity: 0.5;
  }
  60% {
    opacity: 0.2;
  }
  100% {
    transform: translate(-12px, -14px);
    opacity: 0;
  }
}

.dust .mote-a {
  animation: dustFloatA 4.6s ease-in-out infinite;
}

.dust .mote-b {
  animation: dustFloatB 5.2s ease-in-out infinite;
  animation-delay: 0.9s;
}

.dust .mote-c {
  animation: dustFloatA 5.8s ease-in-out infinite;
  animation-delay: 1.4s;
}

.character-breathe {
  transform-box: fill-box;
  transform-origin: 50% 70%;
  animation: breathe 4.8s ease-in-out infinite;
  --breathe-y: 4px;
  --breathe-rot: -0.6deg;
}

@keyframes breathe {
  0%,
  100% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(var(--breathe-y)) rotate(var(--breathe-rot));
  }
}

.blink #eyeWhite {
  transform: scaleY(0.08);
}

.blink #pupil {
  opacity: 0;
}

@media (prefers-reduced-motion: reduce) {
  .brain-layer {
    transition: opacity 0ms linear, transform 0ms linear;
  }
  .character-breathe {
    animation: none;
  }
  .dust .mote-a,
  .dust .mote-b,
  .dust .mote-c {
    animation: none;
  }
}

.reduced-motion .brain-layer {
  transition: opacity 0ms linear, transform 0ms linear;
}

.reduced-motion .character-breathe {
  animation: none;
}

.reduced-motion .dust .mote-a,
.reduced-motion .dust .mote-b,
.reduced-motion .dust .mote-c {
  animation: none;
}
