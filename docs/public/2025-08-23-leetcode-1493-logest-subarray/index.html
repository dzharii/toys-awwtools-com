<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>LeetCode 1493 — Sliding Window Visualizer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app" class="app">
    <header class="header">
      <div class="title-wrap">
        <h1 class="title">LeetCode 1493 — Longest Subarray of 1s After Deleting One</h1>
        <p class="subtitle">Interactive sliding-window debugger: keep ≤ 1 zero, score = right − left.</p>
      </div>

      <form id="inputForm" class="input-form" aria-label="Input configuration" autocomplete="off">
        <label class="field">
          <span>Presets</span>
          <select id="preset" aria-label="Choose preset">
            <option value="example">Example: 1 1 0 1 1 1 0 1</option>
            <option value="all-ones">All ones (len 6)</option>
            <option value="all-zeros">All zeros (len 6)</option>
            <option value="single-zero-mid">Single zero in the middle</option>
            <option value="alternating">Alternating 1 0 1 0 1 0</option>
            <option value="single-1">Single element 1</option>
            <option value="single-0">Single element 0</option>
          </select>
        </label>

        <label class="field grow">
          <span>Array (0/1, space or comma separated)</span>
          <input id="arrayInput" type="text" inputmode="numeric" aria-label="Binary array input" spellcheck="false" />
        </label>

        <div class="toggles">
          <label class="toggle">
            <input id="darkToggle" type="checkbox" aria-label="Toggle dark mode" />
            <span>Dark</span>
          </label>
          <label class="toggle">
            <input id="hcToggle" type="checkbox" aria-label="Toggle high-contrast theme" />
            <span>High contrast</span>
          </label>
          <label class="toggle">
            <input id="autoPauseToggle" type="checkbox" checked aria-label="Toggle auto pause on milestones" />
            <span>Auto pause</span>
          </label>
        </div>

        <div class="actions">
          <button id="runBtn" type="submit" class="btn accent" aria-label="Validate and run with current input">Validate & Run</button>
          <button id="randomBtn" type="button" class="btn" aria-label="Randomize array">Randomize</button>
        </div>
        <output id="errorBox" role="status" aria-live="polite" class="error" hidden></output>
      </form>
    </header>

    <section id="controls" class="controls" aria-label="Playback controls">
      <div class="buttons">
        <button id="jumpStartBtn" class="btn" aria-label="Jump to start (Home)" title="Home">⏮</button>
        <button id="prevBtn" class="btn" aria-label="Previous step (Left Arrow)" title="←">◀</button>
        <button id="playBtn" class="btn accent" aria-label="Play or pause (Space)" title="Space">▶</button>
        <button id="nextBtn" class="btn" aria-label="Next step (Right Arrow)" title="→">▶</button>
        <button id="jumpEndBtn" class="btn" aria-label="Jump to end (End)" title="End">⏭</button>
      </div>
      <div class="speed">
        <label for="speedRange">Speed</label>
        <input id="speedRange" type="range" min="0.25" max="2" step="0.25" value="1" aria-label="Playback speed" />
        <div class="speed-labels" aria-hidden="true">
          <span>0.25×</span><span>0.5×</span><span>1×</span><span>1.5×</span><span>2×</span>
        </div>
      </div>
      <div class="hints">
        <span>Keys: Space • ←/→ • Home/End • R • Enter • 1..5</span>
      </div>
      <div id="live" class="sr-only" aria-live="polite"></div>
    </section>

    <main class="main">
      <section id="arrayPane" class="array-pane" aria-label="Array visualization">
        <!-- Cells, pointers, overlay, zero badges, and best underline are rendered by JS -->
      </section>

      <aside class="debugger">
        <div id="registers" class="registers" aria-label="Registers">
          <h2>Registers</h2>
          <div class="reg-grid">
            <div class="reg"><span class="k">left</span><span id="reg-left" class="v">0</span></div>
            <div class="reg"><span class="k">right</span><span id="reg-right" class="v">-1</span></div>
            <div class="reg"><span class="k">zeros</span><span id="reg-zeros" class="v">0</span></div>
            <div class="reg"><span class="k">best</span><span id="reg-best" class="v">0</span></div>
            <div class="reg"><span class="k">winLen</span><span id="reg-winLen" class="v">0</span></div>
            <div class="reg"><span class="k">score</span><span id="reg-score" class="v">0</span></div>
          </div>
        </div>

        <div id="codePane" class="code-pane" aria-label="Instrumented code">
          <h2>Code</h2>
          <pre id="codeBlock" class="code" aria-readonly="true" tabindex="0"></pre>
        </div>
      </aside>

      <section id="commentPane" class="comment-pane" aria-label="Step commentary">
        <h2>Commentary</h2>
        <div id="commentText" class="comment"></div>
      </section>
    </main>

    <section id="timeline" class="timeline" aria-label="Execution timeline">
      <!-- Bars and handle are rendered by JS -->
    </section>

    <footer class="footer">
      <small>Built for teaching the sliding window solution. No external deps. Works offline.</small>
    </footer>
  </div>

  <script src="app.js" defer></script>
</body>
</html>

